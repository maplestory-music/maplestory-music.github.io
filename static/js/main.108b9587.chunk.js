(this["webpackJsonpmaplestory-music"]=this["webpackJsonpmaplestory-music"]||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(27),c=n.n(i),l=(n(174),n(10)),s=n(6),u=n(11),d=(n(175),n(81)),b=n(17),f=n(32),h=n(28),g=n(251),m=n(255),p=n(245),O=n(138),j=n(3),v=function(){return Object(j.c)("div",{children:[Object(j.c)("div",{css:Object(u.a)(a||(a=Object(l.a)(["\n        @media (min-width: 1024px) {\n          margin-right: 33vw;\n        }\n      "]))),children:[Object(j.b)("h2",{children:"About"}),Object(j.b)("p",{children:"This database catalogs music from every region of MapleStory and aims to be the definitive resource for MapleStory music. It will be updated whenever new songs are added to the client of any region."}),Object(j.b)("h6",{children:Object(j.b)("b",{children:"Music Playback"})}),Object(j.b)("p",{children:"Music is played within an embedded YouTube player. The track is looped upon completion, unless in the shuffled playlist mode (see below)."}),Object(j.b)("h6",{children:Object(j.b)("b",{children:"Shuffled Playlist"})}),Object(j.b)("p",{children:"The shuffled playlist feature randomizes the entire music collection and plays upcoming songs automatically. Skip to the next track or return to the previous track with the controls under the media player. When filters are applied to the grid, the song pool is limited to the filtered entries."}),Object(j.b)("h6",{children:Object(j.b)("b",{children:"Grid Controls"})}),Object(j.b)("p",{children:"To sort by a column, press the column header. Hover over a column header and press the menu icon to access the advanced filter dialog. Mobile users can access the filter dialog by pressing and holding the column header."}),Object(j.b)("h6",{children:Object(j.b)("b",{children:"Language"})}),Object(j.b)("p",{children:"Language support is a work in progress. Changing the language will translate metadata displayed for the songs in the grid. If there are no translations for an entry, English will be used as the default language."})]}),Object(j.b)("h2",{children:"Source"}),Object(j.b)("p",{children:"The following GitHub projects power this site."}),Object(j.c)("div",{className:"gh-project-entry",children:[Object(j.b)(O.a,{href:"https://github.com/maplestory-music/maplebgm-db","data-size":"large","data-show-count":!0,"aria-label":"Star maplestory-music/maplebgm-db on GitHub",children:"Star"}),Object(j.b)("h5",{className:"gh-project-name",children:"maplebgm-db: Definitive MapleStory music database"})]}),Object(j.c)("div",{className:"gh-project-entry",children:[Object(j.b)(O.a,{href:"https://github.com/maplestory-music/maplestory-music.github.io","data-size":"large","data-show-count":!0,"aria-label":"Star maplestory-music/maplestory-music.github.io on GitHub",children:"Star"}),Object(j.b)("h5",{className:"gh-project-name",children:"maplestory-music: MapleStory Music website"})]})]})},y=n(2),C=n(250),S=n(242),k=n(252),w=n(239),x=n(56),B=n(254),A=n(99),P=(n(203),n(204),n(205),n(238)),T=n(1),D="site-preferences",N=o.a.createContext(void 0),M={hideMinorTracks:!1};function _(e){localStorage.setItem(D,JSON.stringify(e))}var F,E=function(e){var t=e.children,n=o.a.useState(function(){var e=localStorage.getItem(D);if(null===e){var t=M;return _(t),t}return JSON.parse(e)}()),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(T.jsx)(N.Provider,{value:{settings:r,setSettings:function(e){i(e),_(e)}},children:t})},L=function(){var e=o.a.useContext(N);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},R=o.a.createContext(void 0),z=function(e){var t=e.children,n=o.a.useState([]),a=Object(s.a)(n,2),i=a[0],c=a[1],l=L().settings;return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/maplestory-music/maplebgm-db/prod/bgm.min.json").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){var t,n;return!l.hideMinorTracks||(null===(t=!(null===(n=e.decoration)||void 0===n?void 0:n.minorTrack))||void 0===t||t)})).map((function(e){var t={client:e.source.client,date:e.source.date?Object(P.a)(e.source.date):null,structure:e.source.structure,version:e.source.version,clientVersion:e.source.client&&e.source.version?"".concat(e.source.client," ").concat(e.source.version):""};return Object.assign({},e,{source:t})}));c(t)}))}),[c,l.hideMinorTracks]),Object(T.jsx)(R.Provider,{value:i,children:t})},W=function(){var e=o.a.useContext(R);if(!e)throw new Error("useDataSourceState must be used within a DataSourceProvider");return e},I=n(248);!function(e){e.Korea="KMS",e.Japan="JMS",e.China="CMS",e.Taiwan="TMS",e.SEA="MSEA",e.Global="GMS",e.Thailand="ThMS",e.Brazil="BMS"}(F||(F={}));var G,U,H,V,K,J,Y,q,Q,$,X,Z,ee,te,ne,ae,re,oe,ie,ce,le,se,ue,de=n(90),be="#6495ed",fe=function(e){return Object(T.jsx)("span",{children:Object(T.jsx)("img",{src:"mark/".concat(e.value,".png"),alt:"icon"})})},he=function(e){var t=e.youtube,n=e.title;return""!==t?Object(j.c)("span",{children:[Object(j.b)(k.a,{delay:{show:250,hide:100},overlay:Object(j.b)(w.a,{id:"tooltip-ext-link",children:"View on YouTube"}),children:Object(j.b)("a",{css:Object(u.a)(G||(G=Object(l.a)(["\n            margin-right: 3px;\n          "]))),className:"bgm-external-link-icon",href:"https://youtu.be/".concat(t),rel:"noopener noreferrer",target:"_blank",onClick:function(){h.a.event({category:"Video",action:"View External Video",label:e.youtube}),gtag("event","ce_view_external_video",{ce_category:"video",ce_youtube:e.youtube})},children:Object(j.b)("i",{className:"fa fa-external-link"})})}),Object(j.b)("a",{href:"# ",rel:"noopener noreferrer",onClick:function(t){h.a.event({category:"Video",action:"View Embedded Video",label:e.youtube}),gtag("event","ce_view_embedded_video",{ce_category:"video",ce_youtube:e.youtube}),e.onGridSongChange(e.youtube),t.preventDefault()},children:n})]}):Object(j.b)("span",{children:n})},ge=n(256),me=n(240),pe=function(e){var t=e.value,n=new Date,a=Object(ge.a)(n,t)<3||Object(me.a)(t);return Object(j.c)("div",{className:"date-col",children:[Object(j.b)("span",{css:Object(u.a)(U||(U=Object(l.a)(["\n          margin-right: 3px;\n        "]))),children:e.valueFormatted}),!e.disableRecentTrack&&a&&Object(j.b)(k.a,{delay:{show:250,hide:100},overlay:Object(j.b)(w.a,{id:"tooltip-recent-track",children:"Recent Track"}),children:Object(j.b)("i",{className:"fa fa-star","aria-hidden":!0})})]})},Oe=n(257),je=o.a.createContext(void 0),ve=function(e){var t=e.children,n=o.a.useState(darkmode.inDarkMode),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("bs.prefers-color-scheme");void 0!==e&&c("dark"===e)}),[]),Object(r.useEffect)((function(){var e=document.documentElement,t=new MutationObserver((function(e){var t=null===e||void 0===e?void 0:e[0].target;"dark"===t.className?c(!0):"light"===t.className&&c(!1)}));return t.observe(e,{attributes:!0}),function(){t.disconnect()}}),[]),Object(T.jsx)(je.Provider,{value:{darkMode:i},children:t})},ye=function(){var e=o.a.useContext(je);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Ce=function(e){return e?e.startsWith("en")?"en":e.startsWith("ko")?"ko":e.startsWith("ja")?"ja":"zh-CN"===e?"zh-CN":e.startsWith("zh")?"zh-TW":"en":"en"},Se=function(e){var t=e.query,n=e.onGridSongChange,a=e.setPlaylistPool,o=e.locateSong,i=Object(Oe.a)().i18n,c=W(),d=Object(r.useRef)(null),b=Object(r.useRef)(null),f=Object(r.useRef)([]),h=Object(r.useRef)(void 0),g=ye();f.current=function(e){return[{headerName:"",field:"mark",minWidth:70,maxWidth:70,resizable:!1,cellRendererFramework:fe,getQuickFilterText:function(){return""}},{headerName:"Title",field:"metadata.title",minWidth:250,valueGetter:function(e){var t,n,a,r,o=e.context.i18n,i=e.data,c=Ce(o.language);return"en"===c?i.metadata.title:null!==(t=null===(n=i.locale)||void 0===n||null===(a=n[c])||void 0===a||null===(r=a.metadata)||void 0===r?void 0:r.title)&&void 0!==t?t:i.metadata.title},cellRendererFramework:he,cellRendererParams:function(t){return{title:t.value,youtube:t.data.youtube,onGridSongChange:e}}},{headerName:"Description",minWidth:375,field:"description",valueGetter:function(e){var t,n,a,r=e.context.i18n,o=e.data,i=Ce(r.language);return"en"===i?o.description:null!==(t=null===(n=o.locale)||void 0===n||null===(a=n[i])||void 0===a?void 0:a.description)&&void 0!==t?t:o.description}},{headerName:"Folder",field:"source.structure",getQuickFilterText:function(){return""}},{headerName:"Date",field:"source.date",filter:"agDateColumnFilter",valueFormatter:function(e){return e.data.source.date?Object(I.a)(e.data.source.date,"yyyy-MM-dd"):""},cellRendererFramework:pe,getQuickFilterText:function(){return""}},{headerName:"Client",field:"source.clientVersion",getQuickFilterText:function(){return""},cellStyle:function(e){if(!e.value)return{};var t=Object(de.b)(be,.5);return{backgroundColor:e.value.startsWith(F.Korea)?t:Object(de.a)(t)}}}]}(n),h.current={animateRows:!1,pagination:!0,paginationPageSize:25,suppressColumnVirtualisation:!0,suppressMovableColumns:!0,rowHeight:45,defaultColDef:{sortable:!0,filter:!0,resizable:!0},domLayout:"autoHeight"},Object(r.useEffect)((function(){var e;null===(e=d.current)||void 0===e||e.setQuickFilter(t)}),[t]),Object(r.useEffect)((function(){(null===o||void 0===o?void 0:o.songId)&&m(o.songId)}),[o]);var m=function(e){var t,n,a;if(e){var r=-1,o=[];if(null===(t=d.current)||void 0===t||t.forEachNodeAfterFilterAndSort((function(t,n){t.data.youtube===e&&(r=n,o.push(t))})),-1!==r&&1===o.length){var i=Math.ceil((r+1)/25)-1;null===(n=d.current)||void 0===n||n.paginationGoToPage(i),null===(a=d.current)||void 0===a||a.ensureIndexVisible(r,"middle"),o[0].setSelected(!0),setTimeout((function(){!function(e){var t;if(null!==e){var n=document.querySelector("div.ag-root-wrapper div[row-index='".concat(e,"']")),a=null===n||void 0===n?void 0:n.style.transform;if(a){var r=new RegExp(/^translateY\((\d+)px\)$/g).exec(a);if(r){var o=Object(s.a)(r,2)[1],i=null===(t=document.querySelector("div.ag-root-wrapper"))||void 0===t?void 0:t.offsetTop;if(void 0!==i){var c=i+Number(o);window.scrollTo({top:c,behavior:"smooth"})}}}}}(o[0].rowIndex)}),0)}}},p=function(e,t){var n,a=null!==(n=null===e||void 0===e?void 0:e.isAnyFilterPresent())&&void 0!==n&&n,r=[];null===e||void 0===e||e.forEachNodeAfterFilterAndSort((function(e){r.push(e.data)})),t(a,r)};Object(r.useEffect)((function(){p(d.current,a)}),[c,a]);var O={i18n:i};return Object(j.b)("div",{css:Object(u.a)(H||(H=Object(l.a)(["\n        margin: auto;\n        width: 95vw;\n        margin-bottom: 15px;\n      "]))),className:g.darkMode?"ag-theme-balham-dark":"ag-theme-balham",children:Object(j.b)(A.AgGridReact,{columnDefs:f.current,rowData:c,gridOptions:h.current,onFirstDataRendered:function(e){e.columnApi.autoSizeAllColumns()},onFilterChanged:function(e){p(e.api,a)},onSortChanged:function(e){p(e.api,a)},onModelUpdated:function(e){e.api.getDisplayedRowCount()>0?e.api.hideOverlay():e.api.showNoRowsOverlay()},onGridReady:function(e){d.current=e.api,b.current=e.columnApi;e.columnApi.applyColumnState({state:[{colId:"source.date",sort:"desc"}]})},reactUi:!0,context:O})})},ke=n(159),we=n.n(ke),xe=n(249),Be=n(241),Ae=n(160),Pe=function(e){var t=Object(r.useRef)(null),n=e.playingState,a=e.setCurrentPlaylistSong;return Object(j.c)("div",{children:[Object(j.b)(we.a,{css:Object(u.a)(V||(V=Object(l.a)(["\n          display: block;\n          margin-left: auto;\n          margin-right: auto;\n          max-width: 100vw;\n        "]))),ref:t,url:"https://youtu.be/".concat(n.currentSong),playing:!0,controls:!0,onEnded:function(){if(null!==t.current)if(n.currentPlaylist.length){var e;if(h.a.event({category:"Video",action:"Complete Playlist Video",label:n.currentSong}),gtag("event","ce_complete_playlist_video",{ce_category:"video",ce_youtube:n.currentSong}),n.currentPlaylistSong===n.currentPlaylist.length-1){if(!n.repeatPlaylist)return;e=0}else e=n.currentPlaylistSong+1;a(e)}else t.current.seekTo(0),h.a.event({category:"Video",action:"Loop Embedded Video",label:n.currentSong}),gtag("event","ce_loop_embedded_video",{ce_category:"video",ce_youtube:n.currentSong})}}),n.currentPlaylist.length>0&&Object(j.b)("div",{className:"text-center",css:Object(u.a)(K||(K=Object(l.a)(["\n            margin-top: 5px;\n          "]))),children:Object(j.c)(Be.a,{size:"sm",children:[Object(j.b)(Ae.a,{variant:"outline-primary",onClick:function(){n.currentPlaylistSong<1||a(n.currentPlaylistSong-1)},disabled:0===n.currentPlaylistSong,children:Object(j.b)("i",{className:"fa fa-step-backward"})}),Object(j.b)("span",{css:Object(u.a)(J||(J=Object(l.a)(["\n                background-color: #343a40;\n                border-color: #343a40;\n                color: white;\n                padding: 0.25rem 0.5rem;\n                font-size: 0.875rem;\n                line-height: 1.5;\n                border: 1px solid transparent;\n                margin-left: -1px;\n              "]))),children:"".concat(Object(xe.a)((n.currentPlaylistSong+1).toString(),n.currentPlaylist.length.toString().length,"0")," | ").concat(n.currentPlaylist.length)}),Object(j.b)(Ae.a,{variant:"outline-primary",onClick:function(){n.currentPlaylistSong!==n.currentPlaylist.length-1&&a(n.currentPlaylistSong+1)},disabled:n.currentPlaylistSong+1===n.currentPlaylist.length,children:Object(j.b)("i",{className:"fa fa-step-forward"})})]})})]})},Te=function(){return Object(j.c)(r.Fragment,{children:[Object(j.b)("div",{children:Object(j.b)("img",{css:Object(u.a)(Y||(Y=Object(l.a)(["\n            display: block;\n            margin-left: auto;\n            margin-right: auto;\n            margin-bottom: 10px;\n          "]))),id:"header-logo",src:"assets/pink-bean.png",alt:"header logo"})}),Object(j.b)("div",{children:Object(j.b)("p",{children:"Welcome to the MapleStory Music database. This site provides a complete listing of the background music (BGM) used in MapleStory. Collectively, the songs are also known as MapleStory's original soundtrack (OST)."})})]})},De=function(e){var t=e.iconClass,n=e.actionName,a=e.onClick,r=e.active;return Object(j.b)(x.a.Item,{onClick:a,active:r,children:Object(j.c)("span",{children:[Object(j.b)("i",{className:t,css:Object(u.a)(q||(q=Object(l.a)(["\n            width: 24px;\n          "])))}),n]})})},Ne=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),i=Object(s.a)(o,2),c=i[0],d=i[1],b=Object(r.useState)(!1),f=Object(s.a)(b,2),g=f[0],m=f[1],p=Object(r.useState)({currentSong:void 0,currentPlaylist:[],currentPlaylistSong:-1,repeatPlaylist:!1}),O=Object(s.a)(p,2),v=O[0],A=O[1],P=Object(r.useRef)([]),T=Object(r.useState)(),D=Object(s.a)(T,2),N=D[0],M=D[1],_=Object(r.useCallback)((function(e,t){d(e),P.current=t}),[]);return Object(j.c)("div",{children:[void 0===v.currentSong?Object(j.b)(Te,{}):Object(j.b)(Pe,{playingState:v,setCurrentPlaylistSong:function(e){A((function(t){return Object(y.a)(Object(y.a)({},t),{},{currentSong:t.currentPlaylist[e].youtube,currentPlaylistSong:e})}))}}),Object(j.b)(C.a.Group,{css:Object(u.a)(Q||(Q=Object(l.a)(["\n          margin: 10px 14vw;\n        "]))),className:"filter-text",children:Object(j.c)(S.a,{size:"lg",children:[Object(j.b)(k.a,{delay:{show:250,hide:100},overlay:Object(j.b)(w.a,{id:"tooltip-locate-song",children:"Locate Current Song"}),children:Object(j.b)(S.a.Text,{css:Object(u.a)($||($=Object(l.a)(["\n                cursor: pointer;\n              "]))),onClick:function(){M({songId:v.currentSong})},children:Object(j.b)("i",{className:"fa fa-search"})})}),Object(j.b)(C.a.Control,{type:"search",placeholder:"Song title or keyword",onChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&document.activeElement&&document.activeElement.blur()}}),Object(j.c)(x.a,{children:[Object(j.b)(k.a,{delay:{show:250,hide:100},overlay:Object(j.b)(w.a,{id:"tooltip-playlist-actions",children:c?"Playlist Actions (Filtered)":"Playlist Actions"}),children:Object(j.b)(x.a.Toggle,{variant:c?"outline-warning":"outline-success",id:"dropdown-playlist-actions",children:Object(j.b)("i",{className:"fa fa-play"})})}),Object(j.c)(x.a.Menu,{children:[Object(j.b)(De,{actionName:"Start Playlist",iconClass:"fa fa-play",onClick:function(){var e=P.current.filter((function(e){return""!==e.youtube}));e.length&&(A({currentSong:e[0].youtube,currentPlaylist:e,currentPlaylistSong:0,repeatPlaylist:g}),h.a.event({category:"Playlist",action:c?"Start Playlist (Filtered)":"Start Playlist",label:"Play Button"}),gtag("event","ce_start_playlist",{ce_category:"playlist",ce_source:"play_button",ce_filtered:c}))}}),Object(j.b)(De,{actionName:"Start Shuffled Playlist",iconClass:"fa fa-random",onClick:function(){var e=Object(B.a)(P.current.filter((function(e){return""!==e.youtube})));e.length&&(A({currentSong:e[0].youtube,currentPlaylist:e,currentPlaylistSong:0,repeatPlaylist:g}),h.a.event({category:"Playlist",action:c?"Start Shuffled Playlist (Filtered)":"Start Shuffled Playlist",label:"Shuffle Button"}),gtag("event","ce_start_shuffled_playlist",{ce_category:"playlist",ce_source:"shuffle_button",ce_filtered:c}))}}),Object(j.b)(x.a.Divider,{}),Object(j.b)(De,{actionName:g?"Turn Off Playlist Repeat":"Turn On Playlist Repeat",iconClass:"fa fa-repeat",onClick:function(){var e=!g;m(e),A((function(t){return Object(y.a)(Object(y.a)({},t),{},{repeatPlaylist:e})}))},active:g})]})]})]})}),Object(j.b)(Se,{query:n,onGridSongChange:function(e){A({currentSong:e,currentPlaylist:[],currentPlaylistSong:-1,repeatPlaylist:g})},setPlaylistPool:_,locateSong:N})]})},Me=n(244),_e=n(243),Fe=n(164),Ee=n.n(Fe),Le=n(165),Re=n.n(Le),ze={colors:["#8087E8","#A3EDBA","#F19E53","#6699A1","#E1D369","#87B4E7","#DA6D85","#BBBAC5"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#1f1836"],[1,"#45445d"]]},style:{fontFamily:"IBM Plex Sans, sans-serif"}},title:{style:{fontSize:"22px",fontWeight:"500",color:"#fff"}},subtitle:{style:{fontSize:"16px",fontWeight:"400",color:"#fff"}},credits:{style:{color:"#f0f0f0"}},caption:{style:{color:"#f0f0f0"}},tooltip:{borderWidth:0,backgroundColor:"#000000",style:{color:"#f0f0f0"},shadow:!0},legend:{backgroundColor:"transparent",itemStyle:{fontWeight:"400",fontSize:"12px",color:"#fff"},itemHoverStyle:{fontWeight:"700",color:"#fff"}},labels:{style:{color:"#707073"}},plotOptions:{series:{dataLabels:{color:"#46465C",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:null,upColor:"#DA6D85",upLineColor:"#DA6D85"},errorbar:{color:"white"},dumbbell:{lowColor:"#f0f0f0"},map:{borderColor:"rgba(200, 200, 200, 1)",nullColor:"#78758C"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"},drillUpButton:{theme:{fill:"#fff"}}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#fff",fontSize:"12px"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#fff"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#fff",fontSize:"12px"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#fff",fontWeight:"300"}}},mapNavigation:{enabled:!0,buttonOptions:{theme:{fill:"#46465C","stroke-width":1,stroke:"#BBBAC5",r:2,style:{color:"#fff"},states:{hover:{fill:"#000","stroke-width":1,stroke:"#f0f0f0",style:{color:"#fff"}},select:{fill:"#000","stroke-width":1,stroke:"#f0f0f0",style:{color:"#fff"}}}},verticalAlign:"bottom"}},rangeSelector:{buttonTheme:{fill:"#46465C",stroke:"#BBBAC5","stroke-width":1,style:{color:"#fff"},states:{hover:{fill:"#1f1836",style:{color:"#fff"},"stroke-width":1,stroke:"white"},select:{fill:"#1f1836",style:{color:"#fff"},"stroke-width":1,stroke:"white"}}},inputBoxBorderColor:"#BBBAC5",inputStyle:{backgroundColor:"#2F2B38",color:"#fff"},labelStyle:{color:"#fff"}},navigator:{handles:{backgroundColor:"#BBBAC5",borderColor:"#2F2B38"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#A3EDBA",lineColor:"#A3EDBA"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#BBBAC5",barBorderColor:"#808083",buttonArrowColor:"#2F2B38",buttonBackgroundColor:"#BBBAC5",buttonBorderColor:"#2F2B38",rifleColor:"#2F2B38",trackBackgroundColor:"#78758C",trackBorderColor:"#2F2B38"}},We={colors:["#8087E8","#A3EDBA","#F19E53","#6699A1","#E1D369","#87B4E7","#DA6D85","#BBBAC5"],chart:{backgroundColor:"#f0f0f0",style:{fontFamily:"IBM Plex Sans, sans-serif"}},title:{style:{fontSize:"22px",fontWeight:"500",color:"#2F2B38"}},subtitle:{style:{fontSize:"16px",fontWeight:"400",color:"#2F2B38"}},tooltip:{borderWidth:0,backgroundColor:"#46465C",style:{color:"#f0f0f0"},shadow:!0},legend:{backgroundColor:"#f0f0f0",borderColor:"#BBBAC5",borderWidth:1,borderRadius:2,itemStyle:{fontWeight:"400",fontSize:"12px",color:"#2F2B38"},itemHoverStyle:{fontWeight:"700",color:"#46465C"}},navigation:{buttonOptions:{symbolStroke:"#2F2B38",theme:{fill:"#fff",states:{hover:{stroke:"#46465C",fill:"#fff"},select:{stroke:"#46465C",fill:"#fff"}}}}},labels:{style:{color:"#46465C"}},credits:{style:{color:"#46465C"}},drilldown:{activeAxisLabelStyle:{color:"#2F2B38"},activeDataLabelStyle:{color:"#2F2B38"},drillUpButton:{theme:{fill:"#2F2B38",style:{color:"#fff"}}}},xAxis:{gridLineColor:"#ccc",labels:{style:{color:"#46465C",fontSize:"12px"}},lineColor:"#ccc",minorGridLineColor:"#ebebeb",tickColor:"#ccc",title:{style:{color:"#2F2B38"}}},yAxis:{gridLineColor:"#ccc",labels:{style:{color:"#46465C",fontSize:"12px"}},lineColor:"#ccc",minorGridLineColor:"#ebebeb",tickColor:"#ccc",tickWidth:1,title:{style:{color:"#2F2B38",fontWeight:"300"}}},rangeSelector:{buttonTheme:{fill:"#fff",style:{color:"#46465C",stroke:"transparent"},states:{hover:{fill:"#fff",style:{color:"#46465C"},"stroke-width":1,stroke:"#46465C"},select:{fill:"#fff",style:{color:"#46465C"},"stroke-width":1,stroke:"#46465C"}}},inputBoxBorderColor:"#BBBAC5",inputStyle:{backgroundColor:"#fff",color:"#46465C"},labelStyle:{color:"#46465C"}},scrollbar:{barBackgroundColor:"#BBBAC5",barBorderColor:"#808083",buttonArrowColor:"#fff",buttonBackgroundColor:"#BBBAC5",buttonBorderColor:"#46465C",rifleColor:"#FFF",trackBackgroundColor:"#dedede",trackBorderColor:"#BBBAC5"},plotOptions:{series:{borderWidth:1,borderColor:"#BBBAC5",dataLabels:{color:"#46465C",style:{fontSize:"13px"}},marker:{lineColor:"#46465C"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:null,upColor:"#DA6D85",upLineColor:"#DA6D85"},errorbar:{color:"white"},map:{borderColor:"rgba(200, 200, 200, 0.3)",nullColor:"rgba(200, 200, 200, 0.3)"}}},Ie=function(e){var t=ye();return Object(r.useEffect)((function(){var n,a,r=t.darkMode?ze:We,o=Object(y.a)(Object(y.a)({},e.options),r);null===(n=e.chartComponent.current)||void 0===n||null===(a=n.chart)||void 0===a||a.update(o)}),[e.chartComponent,e.options,t]),Object(j.b)("div",{css:[Object(u.a)(X||(X=Object(l.a)(["\n          display: inline-block;\n          margin: 10px;\n          @media (max-width: 1024px) {\n            width: 100%;\n          }\n        "]))),e.styles],children:Object(j.b)(Re.a,{containerProps:{className:"react-highcharts-container",style:{width:"100%",height:"100%"}},highcharts:Ee.a,options:e.options,ref:e.chartComponent})})},Ge=function(e,t){var n=Date.now(),a=Object(_e.a)(n)+1;return t===Object(Me.a)(n)?e.slice(0,1===a?a+1:a):e},Ue=function(e){var t=Object(r.useRef)(null),n=W(),a=e.selectedYear,o=n.reduce((function(e,t){return t.metadata.year===a.toString()&&t.source.date&&e[Object(_e.a)(t.source.date)]++,e}),new Array(12).fill(0)),i=o.reduce((function(e,t,n){return 0===n?e[0]=t:e[n]=e[n-1]+t,e}),new Array(12).fill(0)),c={chart:{type:"line"},title:{text:"Song frequency per month"},xAxis:{type:"datetime"},yAxis:[{title:{text:"Songs"},allowDecimals:!1},{title:{text:"Cumulative"},allowDecimals:!1,opposite:!0}],series:[{name:"Songs",type:"line",yAxis:0,pointStart:Date.UTC(a,0,1),pointIntervalUnit:"month",data:Ge(o,a)},{name:"Cumulative",type:"line",yAxis:1,pointStart:Date.UTC(a,0,1),pointIntervalUnit:"month",data:Ge(i,a)}]};return Object(j.b)(Ie,{styles:Object(u.a)(Z||(Z=Object(l.a)(["\n        width: 55vw;\n        flex: 2;\n      "]))),options:c,chartComponent:t})},He=function(e){var t=Object(r.useRef)(null),n=W(),a=e.selectedYear,o=n.filter((function(e){var t;return(null===(t=e.source.date)||void 0===t?void 0:t.getFullYear())===a&&e.source.client})),i=function(e){return o.filter((function(t){var n;return null===(n=t.source.client)||void 0===n?void 0:n.includes(e)})).length},c=i(F.Korea),s=o.length-c,d={chart:{type:"pie"},title:{text:"Distribution of song region"},series:[{id:"domesticVsOverseas",name:"Total Songs",type:"pie",data:[{name:"Domestic",color:be,y:c},{name:"Overseas",color:Object(de.a)(be),y:s}],size:"70%",dataLabels:{enabled:!1}},{id:"regional",name:"Songs",type:"pie",data:[{name:"Korea",color:be,y:c},{name:"Japan",y:i(F.Japan)},{name:"China",y:i(F.China)},{name:"Taiwan",y:i(F.Taiwan)},{name:"Thailand",y:i(F.Thailand)},{name:"SEA",y:i(F.SEA)},{name:"Global",y:i(F.Global)},{name:"Brazil",y:i(F.Brazil)}],size:"100%",innerSize:"70%",dataLabels:{formatter:function(e){if(this.y)return this.key}}}]};return Object(j.b)(Ie,{styles:Object(u.a)(ee||(ee=Object(l.a)(["\n        width: 35vw;\n        flex: 1;\n      "]))),options:d,chartComponent:t})},Ve=n(45),Ke=n(79),Je=n(247),Ye=function(){var e=ye(),t=W(),n=Object(r.useRef)(null),a=Object(r.useRef)(null),o=Object(r.useRef)([{headerName:"",field:"mark",minWidth:70,maxWidth:70,resizable:!1,cellRendererFramework:fe},{headerName:"Folder",field:"folderName"},{headerName:"Creation",field:"creationDate",initialWidth:145,cellRendererFramework:pe,cellRendererParams:{disableRecentTrack:!0},filter:"agDateColumnFilter",valueFormatter:function(e){return Number.isNaN(e.data.creationDate.valueOf())?"":Object(I.a)(e.data.creationDate,"yyyy-MM-dd")}},{headerName:"Last Update",field:"lastUpdate",initialWidth:145,cellRendererFramework:pe,cellRendererParams:{disableRecentTrack:!0},filter:"agDateColumnFilter",valueFormatter:function(e){return Number.isNaN(e.data.lastUpdate.valueOf())?"":Object(I.a)(e.data.lastUpdate,"yyyy-MM-dd")}},{headerName:"Track Count",field:"trackCount",initialWidth:110}]),i=Object(r.useRef)({animateRows:!1,pagination:!0,paginationPageSize:10,suppressColumnVirtualisation:!0,suppressMovableColumns:!0,rowHeight:45,defaultColDef:{sortable:!0,filter:!0,resizable:!0},domLayout:"autoHeight"}),c=Object(r.useMemo)((function(){var e,n=new Map,a=Object(Ke.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value,o=r.source.structure,i=n.get(o);i?n.set(o,[].concat(Object(Ve.a)(i),[r])):n.set(o,[r])}}catch(c){a.e(c)}finally{a.f()}return Array.from(n.entries()).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],o=r.map((function(e){var t,n;return null!==(t=null===(n=e.source.date)||void 0===n?void 0:n.valueOf())&&void 0!==t?t:-1})).filter((function(e){return-1!==e})),i=Object.entries(Object(Je.a)(r.map((function(e){return e.mark})))).sort((function(e,t){return t[1]-e[1]})),c={folderName:a,trackCount:r.length,mark:i[0][0],creationDate:new Date(o.sort((function(e,t){return e-t}))[0]),lastUpdate:new Date(o.sort((function(e,t){return t-e}))[0])};return e.push(c),e}),[])}),[t]);return Object(T.jsx)("div",{className:e.darkMode?"ag-theme-balham-dark":"ag-theme-balham",children:Object(T.jsx)(A.AgGridReact,{columnDefs:o.current,rowData:c,gridOptions:i.current,onGridReady:function(e){n.current=e.api,a.current=e.columnApi;e.columnApi.applyColumnState({state:[{colId:"lastUpdate",sort:"desc"}]})},reactUi:!0})})},qe=function(){var e=Object(Me.a)(new Date),t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Array(Object(Me.a)(new Date)-2003+1).fill(0).map((function(e,t){return 2003+t}));return Object(j.c)("div",{children:[Object(j.b)("h2",{children:"Stats"}),Object(j.b)(C.a,{children:Object(j.b)(C.a.Group,{controlId:"year-select",children:Object(j.b)(C.a.Select,{css:Object(u.a)(te||(te=Object(l.a)(["\n              width: 100px;\n            "]))),defaultValue:e,onChange:function(e){e.target.value&&o(+e.target.value)},children:i.map((function(e){return Object(j.b)("option",{value:e,children:e},e)}))})})}),Object(j.c)("div",{css:Object(u.a)(ne||(ne=Object(l.a)(["\n          display: flex;\n          align-items: center;\n          flex-direction: row;\n          flex-wrap: wrap;\n        "]))),children:[Object(j.b)(Ue,{selectedYear:a}),Object(j.b)(He,{selectedYear:a})]}),Object(j.b)("div",{children:Object(j.b)(Ye,{})})]})},Qe=n(246),$e=n(253),Xe=function(e){var t=e.show,n=e.onModalClose,a=L(),o=a.settings,i=a.setSettings,c=Object(r.useState)(o.hideMinorTracks),d=Object(s.a)(c,2),b=d[0],f=d[1];return Object(j.c)($e.a,{show:t,onShow:function(){f(o.hideMinorTracks)},onHide:n,children:[Object(j.b)($e.a.Header,{closeButton:!0,children:Object(j.b)($e.a.Title,{children:"Settings"})}),Object(j.b)($e.a.Body,{children:Object(j.b)(C.a,{children:Object(j.b)(j.a,{children:Object(j.c)("div",{css:Object(u.a)(ae||(ae=Object(l.a)(["\n                display: flex;\n                align-items: center;\n              "]))),children:[Object(j.b)(C.a.Check,{type:"switch",id:"minorTrack-switch",label:"Hide Minor Tracks",checked:b,onChange:function(){f((function(e){return!e}))}}),Object(j.b)(k.a,{delay:{show:250,hide:100},placement:"right",overlay:Object(j.b)(w.a,{id:"tooltip-minorTrack",children:"Minor tracks feature segments of another song"}),children:Object(j.b)("i",{css:Object(u.a)(re||(re=Object(l.a)(["\n                    margin: 0 4px;\n                  "]))),className:"fa fa-question-circle","aria-hidden":!0})})]})})})}),Object(j.b)($e.a.Footer,{children:Object(j.b)(Ae.a,{variant:"primary",onClick:function(){i({hideMinorTracks:b}),n()},children:"Save"})})]})};h.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GA4_TOKEN:"",REACT_APP_BUILD_HASH:"20f518f",REACT_APP_BUILD_DATE:"2023-04-23"}).REACT_APP_GA_TOKEN);var Ze=Object(f.a)();Ze.listen((function(e,t){h.a.pageview(window.location.pathname)})),h.a.pageview(window.location.pathname);var et=function(e){e.currentTarget.pathname===window.location.pathname&&e.preventDefault()},tt=function(){var e,t,n,a=Object(Oe.a)().i18n,o=ye(),i=Object(r.useState)(!1),c=Object(s.a)(i,2),b=c[0],f=c[1];return Object(j.c)(j.a,{children:[Object(j.c)(g.a,{css:Object(u.a)(oe||(oe=Object(l.a)(["\n          margin-bottom: 10px;\n        "]))),bg:"dark",variant:"dark",expand:"lg",children:[Object(j.c)(g.a.Brand,{css:Object(u.a)(ie||(ie=Object(l.a)(["\n            margin-left: 1rem;\n          "]))),as:d.a,to:"/",onClick:et,children:[Object(j.b)("img",{css:Object(u.a)(ce||(ce=Object(l.a)(["\n              margin-right: 8px;\n            "]))),alt:"",src:"./assets/pb-logo.svg",width:"30",height:"30",className:"d-inline-block align-top"})," ","MapleStory Music"]}),Object(j.b)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.b)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(j.c)(m.a,{className:"mr-auto",children:[Object(j.b)(m.a.Link,{as:d.b,exact:!0,to:"/",onClick:et,children:"Home"}),Object(j.b)(m.a.Link,{as:d.b,exact:!0,to:"/stats",onClick:et,children:"Stats"}),Object(j.b)(m.a.Link,{as:d.b,exact:!0,to:"/about",onClick:et,children:"About"}),Object(j.c)(p.a,{title:"Theme",children:[Object(j.b)(p.a.Item,{active:!o.darkMode,onClick:function(){o.darkMode&&(darkmode.setDarkMode(!1),h.a.event({category:"UI",action:"Switch to Light Mode",label:"Navbar"}),gtag("event","ce_ui_light",{ce_category:"ui",ce_source:"navbar"}))},children:"Light"}),Object(j.b)(p.a.Item,{active:o.darkMode,onClick:function(){o.darkMode||(darkmode.setDarkMode(!0),h.a.event({category:"UI",action:"Switch to Dark Mode",label:"Navbar"}),gtag("event","ce_ui_dark",{ce_category:"ui",ce_source:"navbar"}))},children:"Dark"})]}),Object(j.c)(p.a,{title:"Language",children:[Object(j.b)(p.a.Item,{active:null===(e=a.language)||void 0===e?void 0:e.startsWith("en"),onClick:function(){return a.changeLanguage("en")},children:"English"}),Object(j.b)(p.a.Item,{active:null===(t=a.language)||void 0===t?void 0:t.startsWith("ko"),onClick:function(){return a.changeLanguage("ko")},children:"Korean"}),Object(j.b)(p.a.Item,{active:null===(n=a.language)||void 0===n?void 0:n.startsWith("ja"),onClick:function(){return a.changeLanguage("ja")},children:"Japanese"}),Object(j.b)(p.a.Item,{active:"zh-CN"===a.language,onClick:function(){return a.changeLanguage("zh-CN")},children:"Chinese (Simplified)"}),Object(j.b)(p.a.Item,{active:"zh-TW"===a.language,onClick:function(){return a.changeLanguage("zh-TW")},children:"Chinese (Traditional)"})]}),Object(j.b)(m.a.Link,{as:d.b,to:"#",onClick:function(){return f(!0)},children:"\u2699\ufe0f"})]})})]}),Object(j.b)(Xe,{show:b,onModalClose:function(){return f(!1)}})]})},nt=function(){var e,t,n=null!==(e="20f518f")?e:"Dev",a=null!==(t="2023-04-23")?t:Object(Qe.a)(new Date,{representation:"date"});return Object(j.b)("div",{css:Object(u.a)(le||(le=Object(l.a)(["\n        text-align: center;\n        margin-bottom: 10px;\n      "]))),className:"footer",children:Object(j.b)("span",{children:"Build: ".concat(n," (").concat(a,")")})})},at="MapleStory Music - BGM & OST Database",rt={"/":at,"/stats":"".concat(at," - Stats"),"/about":"".concat(at," - About")},ot=function(){var e=Object(b.f)();return Object(r.useEffect)((function(){var t;document.title=null!==(t=rt[e.pathname])&&void 0!==t?t:at}),[e]),Object(j.b)("main",{children:Object(j.c)(b.c,{children:[Object(j.b)(b.a,{exact:!0,path:"/",component:it}),Object(j.b)(b.a,{path:"/stats",component:lt}),Object(j.b)(b.a,{path:"/about",component:ct})]})})},it=function(){return Object(j.b)("div",{className:"App",children:Object(j.b)(Ne,{})})},ct=function(){return Object(j.b)("div",{css:Object(u.a)(se||(se=Object(l.a)(["\n      margin: 2% 3% 3% 3%;\n    "]))),className:"About",children:Object(j.b)(v,{})})},lt=function(){return Object(j.b)("div",{css:Object(u.a)(ue||(ue=Object(l.a)(["\n      margin: 2% 3% 1% 3%;\n    "]))),className:"Stats",children:Object(j.b)(qe,{})})},st=function(){return Object(j.b)(ve,{children:Object(j.b)(E,{children:Object(j.b)(z,{children:Object(j.b)(b.b,{history:Ze,children:Object(j.c)("div",{children:[Object(j.b)(tt,{}),Object(j.b)(ot,{}),Object(j.b)(nt,{})]})})})})})},ut=n(167),dt=n(93),bt=n(168);ut.a.use(bt.a).use(dt.e).init({fallbackLng:{zh:["zh-TW","zh-CN","en"],default:["en"]},nonExplicitSupportedLngs:!0,supportedLngs:["en","ko","ja","zh"]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(r.Suspense,{fallback:Object(T.jsx)("div",{children:"Loading..."}),children:Object(T.jsx)(st,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[232,1,2]]]);